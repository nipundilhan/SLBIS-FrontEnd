<div class="container mt-4" style="background-color: #F5F5F5; padding: 10px; border-radius: 10px;">
    <h2 class="text-center " >MANAGE INQUIRIES</h2>
  
    <!-- Search Form -->
    <div class="row" style="margin-left: 20px;" >
      <div class="col-md-3">
        <label for="companyCode" style="font-weight: bold;">Company:</label>
        <select id="companyCode" [(ngModel)]="searchParams.companyCode" class="form-control" [disabled]="getRole() === 'COMPANYADMIN'">
          <option value="">Select Company</option>
          <option value="GIFT_PLANTS">Gift Plants</option>
          <option value="SL_BIS">Sl Bis</option>
          <option value="LUMALA">Lumala</option>
        </select>
      </div>
  
      <div class="col-md-3">
        <label for="status" style="font-weight: bold;">Status:</label>
        <select id="status" [(ngModel)]="searchParams.status" class="form-control">
          <option value="">Select Status</option>
          <option value="VERIFICATION_PENDING">Verification Pending</option>
          <option value="VERIFIED">Verified</option>
          <option value="CLOSED">Closed</option>
        </select>
      </div>
  
      <div class="col-md-3 d-flex align-items-end">
        <button (click)="search()" class="btn btn-success mt-2" style="margin-right: 10px;">Search</button>
        <button (click)="reset()" class="btn btn-secondary mt-2">Reset</button>
      </div>
    </div>
  
    <!-- Inquiry Table -->
    <div class="mt-3" style="background-color: #FFFAFA; padding: 25px; border-radius: 10px;">
      <table class="table table-striped table-bordered mt-3">
        <thead>
          <tr>
            <th>Customer Name</th>
            <th>Company Code</th>
            <th class="hide-on-small date-column" >Date</th>
            <th>Status</th>
            <th class="hide-on-small">Title</th>
            <th class="hide-on-small d-none d-sm-table-cell">Email</th>
            <th class="hide-on-small d-none d-sm-table-cell">Contact No</th>
            <th>Actions</th> <!-- Add Actions Column -->
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let inquiry of paginatedInquiries">
            <td >{{ inquiry.customerName }}</td>
            <td >{{ inquiry.companyCode }}</td>
            <td class="date-column hide-on-small">{{ inquiry.date | date: 'shortDate' }}</td>
            <td class="truncate">{{ inquiry.status }}</td>
            
            <td class="truncate hide-on-small">{{ inquiry.title }}...</td>
            <td class="truncate hide-on-small d-none d-sm-table-cell">{{ inquiry.email }}</td>
            <td class=" hide-on-small d-none d-sm-table-cell">{{ inquiry.contactNo }}</td>
            <td>
              <!-- View and Delete buttons with event bindings -->
              <button (click)="viewInquiry(inquiry._id)" class="btn btn-success btn-sm mt-1">View</button>
              <button (click)="mangeInquiry(inquiry._id)" class="hide-on-small btn btn-primary btn-sm mt-1" style="margin-left: 4px;">Take Actions</button>
              <button (click)="deleteInquiry(inquiry._id)"  *ngIf="getRole() === 'ROOTADMIN'" class=" hide-on-small btn btn-danger btn-sm mt-1 d-none d-sm-inline-block" style="margin-left: 4px;">Delete</button>
            </td>
          </tr>
        </tbody>
      </table>
  
      <!-- Pagination -->
      <nav aria-label="Page navigation" *ngIf="totalPages > 1">
        <ul class="pagination justify-content-center">
          <li class="page-item" [class.disabled]="currentPage === 1">
            <button class="page-link" (click)="changePage(currentPage - 1)">Previous</button>
          </li>
          <li class="page-item" *ngFor="let page of paginationArray" [class.active]="currentPage === page">
            <button class="page-link" (click)="changePage(page)">{{ page }}</button>
          </li>
          <li class="page-item" [class.disabled]="currentPage === totalPages">
            <button class="page-link" (click)="changePage(currentPage + 1)">Next</button>
          </li>
        </ul>
      </nav>
    </div>
  </div>